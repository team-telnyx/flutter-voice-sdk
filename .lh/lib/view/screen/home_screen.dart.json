{
    "sourceFile": "lib/view/screen/home_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1730906592729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1730980825909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n   @override\n   void initState() {\n     super.initState();\n-    destinationController.text = 'isaac33882';\n+    destinationController.text = 'isaac33882destination_number_here';\n   }\n \n   void _observeResponses() {\n     Provider.of<MainViewModel>(context, listen: true).observeResponses();\n"
                },
                {
                    "date": 1731267138541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n \n   @override\n   void initState() {\n     super.initState();\n-    destinationController.text = 'isaac33882destination_number_here';\n+    destinationController.text = 'isaac33882';\n   }\n \n   void _observeResponses() {\n     Provider.of<MainViewModel>(context, listen: true).observeResponses();\n"
                },
                {
                    "date": 1733441200622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,8 +55,33 @@\n         break;\n     }\n   }\n \n+  void _showScrollableModalBottomSheet(BuildContext context) {\n+    showModalBottomSheet(\n+      context: context,\n+      isScrollControlled: true,  // Allow custom height\n+      builder: (BuildContext context) {\n+        return SingleChildScrollView(  // Makes the content scrollable\n+          child: Container(\n+            padding: EdgeInsets.all(16),\n+            child: Column(\n+              children: List.generate(30, (index) {\n+                return ListTile(\n+                  leading: Icon(Icons.access_alarm),\n+                  title: Text('Item $index'),\n+                  onTap: () {\n+                    print('Tapped on Item $index');\n+                  },\n+                );\n+              }),\n+            ),\n+          ),\n+        );\n+      },\n+    );\n+  }\n+\n   @override\n   Widget build(BuildContext context) {\n     _observeResponses();\n     if (invitation) {\n@@ -108,9 +133,10 @@\n                   style: TextButton.styleFrom(\n                     foregroundColor: Colors.blue,\n                   ),\n                   onPressed: () {\n-                    _callDestination();\n+                    //_callDestination();\n+                    _showScrollableModalBottomSheet(context);\n                   },\n                   child: const Text('Call'),\n                 ),\n               ),\n"
                },
                {
                    "date": 1733441351322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import 'package:provider/provider.dart';\n import 'package:logger/logger.dart';\n import 'package:telnyx_flutter_webrtc/view/screen/call_screen.dart';\n import 'package:telnyx_flutter_webrtc/view/widgets/invitation_widget.dart';\n+import 'package:telnyx_webrtc/utils/preference_storage.dart';\n \n class HomeScreen extends StatefulWidget {\n   const HomeScreen({super.key, required this.title});\n   final String title;\n@@ -65,17 +66,14 @@\n           // Makes the content scrollable\n           child: Container(\n             padding: EdgeInsets.all(16),\n             child: Column(\n-              children: List.generate(30, (index) {\n-                return ListTile(\n-                  leading: Icon(Icons.access_alarm),\n-                  title: Text('Item $index'),\n-                  onTap: () {\n-                    print('Tapped on Item $index');\n-                  },\n-                );\n-              }),\n+              children: [\n+                Padding(\n+                  padding: const EdgeInsets.all(8.0),\n+                  child: Text('${PreferencesStorage.getString('logger_key')}'),\n+                ),\n+              ],\n             ),\n           ),\n         );\n       },\n"
                }
            ],
            "date": 1730906592729,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\nimport 'package:telnyx_flutter_webrtc/main_view_model.dart';\nimport 'package:provider/provider.dart';\nimport 'package:logger/logger.dart';\nimport 'package:telnyx_flutter_webrtc/view/screen/call_screen.dart';\nimport 'package:telnyx_flutter_webrtc/view/widgets/invitation_widget.dart';\n\nclass HomeScreen extends StatefulWidget {\n  const HomeScreen({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State<HomeScreen> createState() => _HomeScreenState();\n}\n\nclass _HomeScreenState extends State<HomeScreen> {\n  final logger = Logger();\n  TextEditingController destinationController = TextEditingController();\n\n  bool invitation = false;\n  bool ongoingCall = false;\n\n  @override\n  void initState() {\n    super.initState();\n    destinationController.text = 'isaac33882';\n  }\n\n  void _observeResponses() {\n    Provider.of<MainViewModel>(context, listen: true).observeResponses();\n    invitation =\n        Provider.of<MainViewModel>(context, listen: true).ongoingInvitation;\n    ongoingCall = Provider.of<MainViewModel>(context, listen: true).ongoingCall;\n  }\n\n\n  void _callDestination() {\n    Provider.of<MainViewModel>(context, listen: false)\n        .call(destinationController.text);\n    logger.i('Calling!');\n  }\n\n  void _endCall() {\n    Provider.of<MainViewModel>(context, listen: false)\n        .endCall();\n    logger.i('Calling!');\n  }\n\n  void handleOptionClick(String value) {\n    switch (value) {\n      case 'Logout':\n        Provider.of<MainViewModel>(context, listen: false).disconnect();\n        WidgetsBinding.instance.addPostFrameCallback((_) {\n          Navigator.of(context).pushReplacementNamed('/');\n        });\n        logger.i('Disconnecting!');\n        break;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    _observeResponses();\n    if (invitation) {\n      return InvitationWidget(\n          title: 'Home',\n          invitation: Provider.of<MainViewModel>(context, listen: false)\n              .incomingInvitation);\n    } else if (ongoingCall) {\n      return CallScreen(\n          title: \"Ongoing Call\",\n          call: Provider.of<MainViewModel>(context, listen: false).currentCall);\n    } else {\n      return Scaffold(\n        appBar: AppBar(\n          title: Text(widget.title),\n          actions: <Widget>[\n            PopupMenuButton<String>(\n              onSelected: handleOptionClick,\n              itemBuilder: (BuildContext context) {\n                return {'Logout'}.map((String choice) {\n                  return PopupMenuItem<String>(\n                    value: choice,\n                    child: Text(choice),\n                  );\n                }).toList();\n              },\n            ),\n          ],\n        ),\n        body: Center(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: <Widget>[\n              Padding(\n                padding: const EdgeInsets.all(8.0),\n                child: TextFormField(\n                  controller: destinationController,\n                  decoration: const InputDecoration(\n                    border: OutlineInputBorder(),\n                    labelText: 'Destination',\n                  ),\n                ),\n              ),\n              Padding(\n                padding: const EdgeInsets.all(8.0),\n                child: TextButton(\n                  style: TextButton.styleFrom(\n                    foregroundColor: Colors.blue,\n                  ),\n                  onPressed: () {\n                    _callDestination();\n                  },\n                  child: const Text('Call'),\n                ),\n              )\n            ],\n          ),\n        ),\n      );\n    }\n  }\n}\n"
        }
    ]
}